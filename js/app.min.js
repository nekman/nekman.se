/*!
  nekman.se - http://github.com/nekman/nekman.se
*/

define("controllers",["underscore"],function(e){var t=[require("fontController"),require("twitterController"),require("stackExchangeController"),require("boxController")];return{promises:e.map(t,function(e){return e.promise}),all:t,viewControllers:e.filter(t,function(e){return typeof e.render=="function"})}}),define("mainController",["webfont","controllers","jquery"],function(e,t,n){var r=960,i=n(window),s=n("h1"),o=n("<div>").append(n("<i>").addClass("icon-spinner icon-spin")).append(" Loading content... "),u=function(){this.$el=n("#main").addClass("defaultwidth").append(o),this.$resizeNodes=n("header").addClass("defaultwidth").add(this.$el)},a=function(){var e=i.width();if(e<r){this.$resizeNodes.removeClass("defaultwidth").addClass("minwidth");return}this.$resizeNodes.hasClass("defaultwidth")||this.$resizeNodes.addClass("defaultwidth").removeClass("minwidth")};return u.prototype={constructor:u,render:function(){window.onresize=n.proxy(a,this),i.trigger("resize");var e=this.$el,r=function(){_.each(t.viewControllers,function(t){e.append(t.render().$el)}),o.hide(),s.show()};n.when(t.promises).done(r)}},new u}),require.config({paths:{jquery:"https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min",underscore:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.3/underscore-min",backbone:"https://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.9/backbone-min",webfont:"https://ajax.googleapis.com/ajax/libs/webfont/1/webfont",boxView:"social/boxView",boxCollection:"social/boxCollection",boxController:"social/boxController",twitterController:"twitter/twitterController",twitterView:"twitter/twitterView",twitterEntities:"lib/twitterEntities",stackExchangeController:"stackexchange/stackExchangeController",stackExchangeView:"stackexchange/stackExchangeView"},shim:{backbone:{deps:["jquery","underscore"],exports:"Backbone"},underscore:{exports:"_"},jquery:{exports:"jQuery"},webfont:{exports:"WebFont"}}}),require(["mainController"],function(e){e.render()}),define("app",function(){});